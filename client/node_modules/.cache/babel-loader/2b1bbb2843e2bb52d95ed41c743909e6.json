{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SHRUTI SHUKLA\\\\Downloads\\\\mern-social-main\\\\mern-social-main\\\\client\\\\src\\\\components\\\\delete\\\\Delete.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useState, useRef, useContext } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Feed from \"../feed/Feed\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ITEM_HEIGHT = 48;\nexport default function Delete({\n  post\n}) {\n  _s();\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const userId = useRef();\n  const [allPost, setAllPost] = useState([]);\n  const {\n    user\n  } = useContext(AuthContext);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [dopen, setdOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setdOpen(true);\n  };\n\n  const handleClickClose = () => {\n    setdOpen(false);\n  };\n\n  const handleClickYes = async () => {\n    try {\n      await axios.delete(\"/posts/\" + post._id); //   const allPost = await axios.get(\"/profile/\" + user.username);\n      //   console.log(allPost);\n    } catch (err) {}\n\n    setdOpen(false);\n    window.location.reload();\n  };\n\n  const handleClickNo = () => {\n    setdOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n      \"aria-label\": \"more\",\n      \"aria-controls\": \"long-menu\",\n      \"aria-haspopup\": \"true\",\n      onClick: handleClick,\n      children: /*#__PURE__*/_jsxDEV(MoreVertIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      id: \"long-menu\",\n      anchorEl: anchorEl,\n      keepMounted: true,\n      open: open,\n      onClose: handleClose,\n      PaperProps: {\n        style: {\n          maxHeight: ITEM_HEIGHT * 4.5,\n          width: \"20ch\"\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(MenuItem, {\n        onClick: handleClose,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClickOpen,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n          open: dopen,\n          onClose: handleClickClose,\n          \"aria-labelledby\": \"alert-dialog-title\",\n          \"aria-describedby\": \"alert-dialog-description\",\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            id: \"alert-dialog-title\",\n            children: \"Delete Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n              id: \"alert-dialog-description\",\n              children: \"Are you sure?You want to delete the post?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleClickNo,\n              color: \"primary\",\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleClickYes,\n              color: \"primary\",\n              autoFocus: true,\n              ref: userId,\n              children: \"Yes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, \"delete\", true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Delete, \"bOwZWujrdgSo5HsHDeMili/qdU4=\");\n\n_c = Delete;\n\nvar _c;\n\n$RefreshReg$(_c, \"Delete\");","map":{"version":3,"sources":["C:/Users/SHRUTI SHUKLA/Downloads/mern-social-main/mern-social-main/client/src/components/delete/Delete.js"],"names":["React","axios","AuthContext","useState","useRef","useContext","IconButton","Menu","MenuItem","MoreVertIcon","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Feed","ITEM_HEIGHT","Delete","post","anchorEl","setAnchorEl","open","Boolean","userId","allPost","setAllPost","user","handleClick","event","currentTarget","handleClose","dopen","setdOpen","handleClickOpen","handleClickClose","handleClickYes","delete","_id","err","window","location","reload","handleClickNo","style","maxHeight","width"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useState, useRef, useContext } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Feed from \"../feed/Feed\";\nconst ITEM_HEIGHT = 48;\n\nexport default function Delete({ post }) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const userId = useRef();\n  const [allPost, setAllPost] = useState([]);\n  const { user } = useContext(AuthContext);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const [dopen, setdOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setdOpen(true);\n  };\n\n  const handleClickClose = () => {\n    setdOpen(false);\n  };\n  const handleClickYes = async () => {\n    try {\n      await axios.delete(\"/posts/\" + post._id);\n      //   const allPost = await axios.get(\"/profile/\" + user.username);\n      //   console.log(allPost);\n    } catch (err) {}\n    setdOpen(false);\n    window.location.reload();\n  };\n  const handleClickNo = () => {\n    setdOpen(false);\n  };\n\n  return (\n    <div>\n      <IconButton\n        aria-label=\"more\"\n        aria-controls=\"long-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        <MoreVertIcon />\n      </IconButton>\n      <Menu\n        id=\"long-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        PaperProps={{\n          style: {\n            maxHeight: ITEM_HEIGHT * 4.5,\n            width: \"20ch\",\n          },\n        }}\n      >\n        <MenuItem key=\"delete\" onClick={handleClose}>\n          <Button onClick={handleClickOpen}>Delete</Button>\n          <Dialog\n            open={dopen}\n            onClose={handleClickClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n          >\n            <DialogTitle id=\"alert-dialog-title\">{\"Delete Post\"}</DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-description\">\n                Are you sure?You want to delete the post?\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClickNo} color=\"primary\">\n                No\n              </Button>\n              <Button\n                onClick={handleClickYes}\n                color=\"primary\"\n                autoFocus\n                ref={userId}\n              >\n                Yes\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </MenuItem>\n      </Menu>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}